###5.2 스트림 인터페이스 이해

스트림은 어떤 데이터의 흐름을 말한다. java.io패키지에 있는 i/O 프로그래밍에 활용되는 클래스명에 Stream이라는
단어를 사용해 왔다. 스트림API의 주된 목적은 람다 표현식과 메서드 참조 등의 기능과 결합해서 복잡하고 어려운 데이터 처리
 작업을 쉽게 조회, 필터링, 변환, 처리할 수 있도록 하는 것이다.
 
 Integerp[] intArr = new Integer[] {1,2,3,4,5,6,7,8,9};
 List numList = Arrays.asList(intArr);
 
 for(int i=0;i<numList.size();i++) {
    system.out.println(numList.get(i));
 }
 
 for (Iterator iter = numList.iterator():iter.hasNext();){
    System.out.println(iter.next());
 }
 
 for(Integer intVal : numList) {
    System.out.println(intVal);
 }
 
 numList.forEach(System.out::println);
 
 스트핌API를 통해 출력하는 방식 참조로 println 를 이용하였다.
 
 
 ####5.2.1 스트림 인터페이스
 스트림 API가 인터페이스로 구성되는 이유
 > 데이터의 원천에 해당되는 컬렉션 프레임워크 기반의 클래서에 위임하기 때문이다. 스트림은 람다 표현식이라 메서드 참조를
 통해 구체적인 구현체를 전달 받아 작동하기 때문에 함수형 인터페이스와 관련이 있다.
 
 스트림에서 가장 기본이 되는 인터페이스는 BaseStream이며 제네릭 타입으로 <T, S extends BaseStream<T,S>>가 인터페이스에 
 추가적으로 정의되어 있다.
 
 * T: 스트림에서 처리할 데이터의 타입
 * S: Basestream을 구현한 스트림 구현체를 의미한다. 이 구현체에는 BaseStream인터페이스 외에도 스트림을 자동으로 종료하기 위한 
 AutoClosable 인터페이스도 구현되어 있어야 한다.
 
 BaseStream인터페이스는 스트림 API최상위에 있으며 스트림 객체를 병렬 혹은 순차방식으로 생성하고 최종적으로 종료하기 위한 명세
 를 제공한다. 가장 기본이 되는 인터페이스지만 실질적으로 개발자가 BaseStream을 직접적으로 사용하는 경우는 없으며 이 인터페이스를
 상속한 Stream을 주로 사용한다.
 
 BaseStream 인터페이스의 Stream인터페이스에 정의 되어 있는 메서드들 상당수가 리턴타입이 Stream  이고 나머지는 void 형이다.
 * 리턴 타입이 Stream 인 메서드들은 린턴 결과를 이용해서 데이터를 중각에 변형 혹은 필터링 한 후 Stream 객체를 만들어 결과를 
 리턴한다. 이러한 작업을 반복적으로 할 수 있으며 중간 연산 메서드라고 부른다.
 
 * 리턴 타입이 void인 메서드들은 주로  Stream을 이용해서 데이터를 최종적으로 소비한다. 이러한 메서드를 최종연산 메서드라고 부른다.
 
 ** 스트림 API의 중요한 부분 파이프라인 개념과 중간 연산 최종 연산에 대한 내용**
 
 Stream객체는 불변성이 특징이다. Stream 객체의 메서드 호출 결과로 리턴 받은 Stream 객체의 원천 데이터를 수정하는 것이
 아니라 완전히 새롭게 생성한 데이터 이다. 
 
 > Stream 객체를 불변성으로 만든 이유는 중간 연산 작업과 함께 병렬 처리가 가능하기 때문에 데이터의 정합성을 확보하기 위함이다.
 스트림API뿐 아니라 대부분의 API에서 공통적으로 보이는 특징이다.
 
 ####5.2.2 기본형 스트림 인터페이스
 
 스트림API 역시 데이터가 객체라는 것을 기본 전제로 설계 되었으며 BaseStream 인터페이스에서 확인한 것과 같이
 제네릭 타입을 명시적으로 지정해야 한다. 문자열이나 클래스 타입은 효율적으로 처리할 수 있지만 기본형 데이터의 처리 측면에서
 취약하다. 기본형 데이터의 경우 Stream 내부에서 오토박싱과 언박싱이 빈번하게 발생하기 때문에 처리 시간이 급격하게 증가한다.
 
 스트림 API에서는 기본형으로 많이 사용하는 int, long, double을 위한 별도의 인터페이스를 제공한다.
 
 * DoubleStream, IntStream, LongStream 
 
 이 세개의 인터페이스는 BaseStream의 하위 인터페이스이며 상속 구조상으로 Stream인터페이스와 동일한 계층에 속한다.
 유일한 차이점은 참조한 객체를 데이터로 사용하지 않고 기본형 데이터를 사용한다는 것이다. 이 인터페이스를 사용하며 자동으로
 박싱/언박싱이 일어나지 않기 때문에 속도가 빨라진다.
 
 기본형 스트림 인터페이스에서는 sum, max, min 메서드가 추가되어 있다. 해당 인터페이스를 사용하면 메서드 호출만으로 결과를
 얻을 수 있다.
 
 ###5.3 스트림 객체 생성
 
 ####5.3.1 스트림 객체 생성 이해
 스트림은 그 자체로 데이터를 생성하고 관리하는 것이 아니라 데이터 원본에 객체를 생성한다. 
 
 ~~~java
    public class FirstStreamExample {
        public static void main(String[] args){
          List<String> firstList = new ArrayList<String>();
          firstList.add("1");
          firstList.add("2");
          firstList.add("3");
          firstList.add("4");
          
          System.out.println("First List : " + firstList);
          
          Stream<String> firstStream = firstList.stream();
          System.out.println("Stream 함수 개수 : " + firstStream.count());
          
           Stream<String> limitStream = firstList.limit(4);
           limitStream.forEach(System.out::println);
        }
    }
    
 ~~~
 
 result : 
    First List : [1,2,3,4]
    Stream 함수 개수 : 4
    
 
 
 
 
 
 